# AllnGrow Monitoring Configuration
# Copy this file to .env.monitoring and adjust values as needed

# Grafana Configuration
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin123
GRAFANA_PORT=3000

# Prometheus Configuration
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_DAYS=30

# Loki Configuration
LOKI_PORT=3100
LOKI_RETENTION_HOURS=744  # 31 days

# AlertManager Configuration
ALERTMANAGER_PORT=9093

# SMTP Configuration for Alerts
SMTP_FROM=alertmanager@allngrow.com
SMTP_SMARTHOST=smtp.gmail.com:587
SMTP_AUTH_USERNAME=your-email@gmail.com
SMTP_AUTH_PASSWORD=your-app-password
SMTP_REQUIRE_TLS=true

# Email Recipients
ALERT_EMAIL_CRITICAL=oncall@allngrow.com
ALERT_EMAIL_WARNING=team@allngrow.com
ALERT_EMAIL_DATABASE=dba@allngrow.com
ALERT_EMAIL_BACKEND=backend@allngrow.com

# Webhook Configuration (Optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/WEBHOOK

# Exporter Ports
NODE_EXPORTER_PORT=9100
MYSQL_EXPORTER_PORT=9104
REDIS_EXPORTER_PORT=9121
NGINX_EXPORTER_PORT=9113
CADVISOR_PORT=8080

# MySQL Connection for Exporter
MYSQL_EXPORTER_USER=root
MYSQL_EXPORTER_PASSWORD=root
MYSQL_EXPORTER_HOST=mysql
MYSQL_EXPORTER_PORT=3306

# Redis Connection for Exporter
REDIS_EXPORTER_HOST=redis
REDIS_EXPORTER_PORT=6379

# Scrape Intervals (seconds)
PROMETHEUS_SCRAPE_INTERVAL=15
PROMETHEUS_EVALUATION_INTERVAL=15

# Alert Thresholds
ALERT_CPU_THRESHOLD=80
ALERT_MEMORY_THRESHOLD=85
ALERT_DISK_THRESHOLD=15
ALERT_MYSQL_CONNECTION_THRESHOLD=80
ALERT_REDIS_MEMORY_THRESHOLD=85
ALERT_RESPONSE_TIME_THRESHOLD=2000  # milliseconds

# Dashboard Refresh Rate (seconds)
DASHBOARD_REFRESH_RATE=30

# Log Levels
LOG_LEVEL=info
LOKI_LOG_LEVEL=info
PROMTAIL_LOG_LEVEL=info
